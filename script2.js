document.addEventListener("DOMContentLoaded", () => {
    const langSelect = document.getElementById("lang");
  
    langSelect.addEventListener("change", () => {
      const selectedLang = langSelect.value;
      updateLanguage(selectedLang);
    });
  
    // Set default language to EnglishA
    updateLanguage("en");
  });
  
  function updateLanguage(lang) {
  const t = translations[lang];
  if (!t) return;

  document.getElementById("langLabel").textContent = t.langLabel;
  document.getElementById("title").textContent = t.title;
  document.getElementById("subtitle").textContent = t.subtitle;
  document.getElementById("labelState").textContent = t.labelState;
  document.getElementById("labelPH").textContent = t.labelPH;
  document.getElementById("labelNitrogen").textContent = t.labelNitrogen;
  document.getElementById("labelPhosphorus").textContent = t.labelPhosphorus;
  document.getElementById("labelPotassium").textContent = t.labelPotassium;
  document.getElementById("labelOrganic").textContent = t.labelOrganic;
  document.getElementById("labelTexture").textContent = t.labelTexture;
  document.getElementById("submitBtn").textContent = t.submitBtn;

  // üåç Update soil texture dropdown options
  document.getElementById("optionSandy").textContent = t.textureOptions.sandy;
  document.getElementById("optionLoamy").textContent = t.textureOptions.loamy;
  document.getElementById("optionClay").textContent = t.textureOptions.clay;
}

  const crops = [
{
        name: "Wheat",
        pH: { min: 6.0, max: 7.5 },
        nitrogen: { min: 30, max: 50 },
        phosphorus: { min: 20, max: 40 },
        potassium: { min: 30, max: 50 },
        organicMatter: { min: 1.5, max: 3 },
        texture: ["loamy", "clay"],
        states: ["Punjab", "Uttar Pradesh", "Madhya Pradesh"]
    },
    {
        name: "Rice",
        pH: { min: 5.0, max: 6.5 },
        nitrogen: { min: 40, max: 60 },
        phosphorus: { min: 10, max: 30 },
        potassium: { min: 20, max: 40 },
        organicMatter: { min: 2, max: 4 },
        texture: ["clay"],
        states: ["West Bengal", "Andhra Pradesh", "Tamil Nadu"]
    },
    {
        name: "Cotton",
        pH: { min: 5.5, max: 7.5 },
        nitrogen: { min: 20, max: 40 },
        phosphorus: { min: 15, max: 30 },
        potassium: { min: 25, max: 45 },
        organicMatter: { min: 1, max: 2.5 },
        texture: ["sandy", "loamy"],
        states: ["Gujarat", "Maharashtra", "Rajasthan"]
    },
    {
        name: "Sugarcane",
        pH: { min: 6.0, max: 7.5 },
        nitrogen: { min: 50, max: 70 },
        phosphorus: { min: 20, max: 40 },
        potassium: { min: 40, max: 60 },
        organicMatter: { min: 2, max: 4 },
        texture: ["loamy", "clay"],
        states: ["Uttar Pradesh", "Maharashtra", "Karnataka"]
    },
    {
        name: "Millets",
        pH: { min: 5.5, max: 7.0 },
        nitrogen: { min: 10, max: 30 },
        phosphorus: { min: 10, max: 25 },
        potassium: { min: 15, max: 35 },
        organicMatter: { min: 1, max: 2 },
        texture: ["sandy", "loamy"],
        states: ["Rajasthan", "Karnataka", "Tamil Nadu"]
    },
    {
        name: "Tea",
        pH: { min: 4.5, max: 6.0 },
        nitrogen: { min: 30, max: 50 },
        phosphorus: { min: 10, max: 20 },
        potassium: { min: 20, max: 40 },
        organicMatter: { min: 2, max: 5 },
        texture: ["loamy", "clay"],
        states: ["Assam", "West Bengal", "Kerala"]
    },
    {
        name: "Coffee",
        pH: { min: 5.0, max: 6.5 },
        nitrogen: { min: 20, max: 40 },
        phosphorus: { min: 10, max: 25 },
        potassium: { min: 20, max: 40 },
        organicMatter: { min: 2, max: 4 },
        texture: ["loamy", "clay"],
        states: ["Karnataka", "Kerala", "Tamil Nadu"]
    },
    {
        name: "Turmeric",
        pH: { min: 5.5, max: 7.5 },
        nitrogen: { min: 30, max: 50 },
        phosphorus: { min: 20, max: 40 },
        potassium: { min: 40, max: 60 },
        organicMatter: { min: 2, max: 4 },
        texture: ["loamy", "clay"],
        states: ["Tamil Nadu", "Andhra Pradesh", "Odisha"]
    },
    {
        name: "Soybean",
        pH: { min: 6.0, max: 7.5 },
        nitrogen: { min: 20, max: 40 },
        phosphorus: { min: 15, max: 30 },
        potassium: { min: 25, max: 45 },
        organicMatter: { min: 1.5, max: 3 },
        texture: ["loamy", "clay"],
        states: ["Madhya Pradesh", "Maharashtra", "Rajasthan"]
    },
    {
        name: "Groundnut",
        pH: { min: 5.5, max: 7.0 },
        nitrogen: { min: 20, max: 40 },
        phosphorus: { min: 15, max: 30 },
        potassium: { min: 25, max: 45 },
        organicMatter: { min: 1, max: 2.5 },
        texture: ["sandy", "loamy"],
        states: ["Gujarat", "Andhra Pradesh", "Tamil Nadu"]
    }
];
const cropTranslations = {
    en: {
      Wheat: "Wheat",
      Rice: "Rice",
      Cotton: "Cotton",
      Sugarcane: "Sugarcane",
      Millets: "Millets",
      Tea: "Tea",
      Coffee: "Coffee",
      Turmeric: "Turmeric",
      Soybean: "Soybean",
      Groundnut: "Groundnut"
    },
    hi: {
      Wheat: "‡§ó‡•á‡§π‡•Ç‡§Ç",
      Rice: "‡§ß‡§æ‡§®",
      Cotton: "‡§ï‡§™‡§æ‡§∏",
      Sugarcane: "‡§ó‡§®‡•ç‡§®‡§æ",
      Millets: "‡§¨‡§æ‡§ú‡§∞‡§æ",
      Tea: "‡§ö‡§æ‡§Ø",
      Coffee: "‡§ï‡•â‡§´‡•Ä",
      Turmeric: "‡§π‡§≤‡•ç‡§¶‡•Ä",
      Soybean: "‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®",
      Groundnut: "‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä"
    },
    bn: {
      Wheat: "‡¶ó‡¶Æ",
      Rice: "‡¶ß‡¶æ‡¶®",
      Cotton: "‡¶∏‡ßÇ‡¶§‡ßÄ",
      Sugarcane: "‡¶Ü‡¶ñ",
      Millets: "‡¶∂‡¶∏‡ßç‡¶Ø",
      Tea: "‡¶ö‡¶æ",
      Coffee: "‡¶ï‡¶´‡¶ø",
      Turmeric: "‡¶π‡¶≤‡ßÅ‡¶¶",
      Soybean: "‡¶∏‡¶Ø‡¶º‡¶æ‡¶¨‡¶ø‡¶®",
      Groundnut: "‡¶ö‡¶ø‡¶®‡¶æ ‡¶¨‡¶æ‡¶¶‡¶æ‡¶Æ"
    }
  };
  
  const stateTranslations = {
    en: {
      "Punjab": "Punjab",
      "Uttar Pradesh": "Uttar Pradesh",
      "Madhya Pradesh": "Madhya Pradesh",
      "West Bengal": "West Bengal",
      "Andhra Pradesh": "Andhra Pradesh",
      "Tamil Nadu": "Tamil Nadu",
      "Gujarat": "Gujarat",
      "Maharashtra": "Maharashtra",
      "Rajasthan": "Rajasthan",
      "Karnataka": "Karnataka",
      "Assam": "Assam",
      "Kerala": "Kerala",
      "Odisha": "Odisha"
    },
    hi: {
      "Punjab": "‡§™‡§Ç‡§ú‡§æ‡§¨",
      "Uttar Pradesh": "‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂",
      "Madhya Pradesh": "‡§Æ‡§ß‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¶‡•á‡§∂",
      "West Bengal": "‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ ‡§¨‡§Ç‡§ó‡§æ‡§≤",
      "Andhra Pradesh": "‡§Ü‡§Ç‡§ß‡•ç‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂",
      "Tamil Nadu": "‡§§‡§Æ‡§ø‡§≤‡§®‡§æ‡§°‡•Å",
      "Gujarat": "‡§ó‡•Å‡§ú‡§∞‡§æ‡§§",
      "Maharashtra": "‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞",
      "Rajasthan": "‡§∞‡§æ‡§ú‡§∏‡•ç‡§•‡§æ‡§®",
      "Karnataka": "‡§ï‡§∞‡•ç‡§®‡§æ‡§ü‡§ï",
      "Assam": "‡§Ö‡§∏‡§Æ",
      "Kerala": "‡§ï‡•á‡§∞‡§≤",
      "Odisha": "‡§ì‡§°‡§ø‡§∂‡§æ"
    },
    bn: {
      "Punjab": "‡¶™‡¶æ‡¶û‡ßç‡¶ú‡¶æ‡¶¨",
      "Uttar Pradesh": "‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶™‡ßç‡¶∞‡¶¶‡ßá‡¶∂",
      "Madhya Pradesh": "‡¶Æ‡¶ß‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¶‡ßá‡¶∂",
      "West Bengal": "‡¶™‡¶∂‡ßç‡¶ö‡¶ø‡¶Æ‡¶¨‡¶ô‡ßç‡¶ó",
      "Andhra Pradesh": "‡¶Ü‡¶®‡ßç‡¶ß‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶¶‡ßá‡¶∂",
      "Tamil Nadu": "‡¶§‡¶æ‡¶Æ‡¶ø‡¶≤‡¶®‡¶æ‡¶°‡¶º‡ßÅ",
      "Gujarat": "‡¶ó‡ßÅ‡¶ú‡¶∞‡¶æ‡¶ü",
      "Maharashtra": "‡¶Æ‡¶π‡¶æ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞",
      "Rajasthan": "‡¶∞‡¶æ‡¶ú‡¶∏‡ßç‡¶•‡¶æ‡¶®",
      "Karnataka": "‡¶ï‡¶∞‡ßç‡¶£‡¶æ‡¶ü‡¶ï",
      "Assam": "‡¶Ü‡¶∏‡¶æ‡¶Æ",
      "Kerala": "‡¶ï‡ßá‡¶∞‡¶≤",
      "Odisha": "‡¶ì‡¶°‡¶º‡¶ø‡¶∂‡¶æ"
    }
  };
document.addEventListener("DOMContentLoaded", function () {
    const stateSelect = document.getElementById("state");
    const savedState = localStorage.getItem("selectedState");
    if (savedState) stateSelect.value = savedState;
  
    stateSelect.addEventListener("change", function () {
      localStorage.setItem("selectedState", stateSelect.value);
    });
  });
  
  // Handle form submit
 document.getElementById('soilForm').addEventListener('submit', function (e) {
  e.preventDefault();

  const lang = document.getElementById('lang').value;

  const translations = {
    en: {
      alert: 'Please enter a valid pH value between 0 and 14',
      title: 'Recommended Crops for',
      noResult: 'No suitable crops found for the current soil conditions in',
      suggestion: 'Try adjusting your soil parameters or consider soil amendments.',
      fertilizerSuggestion: 'Recommended soil amendment: ',
      organicSuggestion: 'Consider using organic methods such as composting or mulching.'
    },
    hi: {
      alert: '‡§ï‡•É‡§™‡§Ø‡§æ 0 ‡§î‡§∞ 14 ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§è‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø pH ‡§Æ‡§æ‡§® ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç',
      title: '‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§´‡§∏‡§≤‡•á‡§Ç:',
      noResult: '‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§´‡§∏‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä',
      suggestion: '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á ‡§Æ‡§æ‡§™‡§¶‡§Ç‡§°‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§Æ‡§æ‡§Ø‡•ã‡§ú‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§',
      fertilizerSuggestion: '‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï: ',
      organicSuggestion: '‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§Ø‡§æ ‡§Æ‡§≤‡•ç‡§ö‡§ø‡§Ç‡§ó ‡§ú‡•à‡§∏‡•á ‡§ú‡•à‡§µ‡§ø‡§ï ‡§§‡§∞‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§'
    },
    bn: {
      alert: '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá 0 ‡¶•‡ßá‡¶ï‡ßá 14 ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß pH ‡¶Æ‡¶æ‡¶® ‡¶¶‡¶ø‡¶®',
      title: '‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶´‡¶∏‡¶≤:',
      noResult: '‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡¶ì ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶´‡¶∏‡¶≤ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø',
      suggestion: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶™‡¶∞‡¶æ‡¶Æ‡¶ø‡¶§‡¶ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶∏‡¶æ‡¶Æ‡¶û‡ßç‡¶ú‡¶∏‡ßç‡¶Ø ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
      fertilizerSuggestion: '‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶∏‡¶æ‡¶∞: ',
      organicSuggestion: '‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶¨‡¶æ ‡¶Æ‡¶æ‡¶≤‡¶ö‡¶ø‡¶Ç ‡¶Æ‡¶§‡ßã ‡¶ú‡ßà‡¶¨ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'
    }
  };

  const t = translations[lang];

  const inputs = {
    state: document.getElementById('state').value,
    ph: parseFloat(document.getElementById('ph').value),
    nitrogen: parseInt(document.getElementById('nitrogen').value),
    phosphorus: parseInt(document.getElementById('phosphorus').value),
    potassium: parseInt(document.getElementById('potassium').value),
    organicMatter: parseFloat(document.getElementById('organicMatter').value),
    texture: document.getElementById('texture').value
  };

  if (isNaN(inputs.ph) || inputs.ph < 0 || inputs.ph > 14) {
    alert(t.alert);
    return;
  }

  const recommendations = crops.filter(crop =>  
    inputs.ph >= crop.pH.min && inputs.ph <= crop.pH.max &&
    inputs.nitrogen >= crop.nitrogen.min && inputs.nitrogen <= crop.nitrogen.max &&
    inputs.phosphorus >= crop.phosphorus.min && inputs.phosphorus <= crop.phosphorus.max &&
    inputs.potassium >= crop.potassium.min && inputs.potassium <= crop.potassium.max &&
    inputs.organicMatter >= crop.organicMatter.min && inputs.organicMatter <= crop.organicMatter.max &&
    crop.texture.includes(inputs.texture) &&
    crop.states.includes(inputs.state)
  );
  
  const resultsDiv = document.getElementById('results');
  resultsDiv.style.display = 'block';
  
  if (recommendations.length > 0) {
    resultsDiv.innerHTML = `
      <h3>${t.title} ${stateTranslations[lang][inputs.state] || "State not found"}:</h3>
      <ul>${recommendations.map(crop => {
          // If the language is not found, fall back to English
          const cropName = cropTranslations[lang] && cropTranslations[lang][crop.name] || crop.name;
          return `<li>${cropName}</li>`;
      }).join('')}</ul>
    `;
  } else {
    let fertilizerAdvice = '';
    let reasonList = '';
  
    // pH Suggestions
    if (inputs.ph < 6.0) {
        fertilizerAdvice += `<br>${t.fertilizerSuggestion} ${
          lang === 'hi' ? '‡§ö‡•Ç‡§®‡§æ (‡§ú‡•à‡§∏‡•á: Indofil Lime) ‡§Ø‡§æ ‡§°‡•ã‡§≤‡•ã‡§Æ‡§æ‡§á‡§ü (‡§ú‡•à‡§∏‡•á: Coromandel Dolomite) ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡•á‡§Ç - ‡§™‡•ç‡§∞‡§§‡§ø ‡§è‡§ï‡§°‡§º 100-150 ‡§ï‡§ø‡§≤‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ‡•§' :
          lang === 'bn' ? '‡¶ö‡ßÅ‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: Indofil Lime) ‡¶¨‡¶æ ‡¶°‡ßã‡¶≤‡ßã‡¶Æ‡¶æ‡¶á‡¶ü (‡¶Ø‡ßá‡¶Æ‡¶®: Coromandel Dolomite) ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶ï‡¶∞ 100-150 ‡¶ï‡ßá‡¶ú‡¶ø‡•§' :
          'Apply Lime (e.g., Indofil Lime) or Dolomite (e.g., Coromandel Dolomite) - 100-150 kg per acre.'
        } <br><em>${
          lang === 'hi' ? 'pH ‡§≤‡§ó‡§≠‡§ó 0.5-1.0 ‡§§‡§ï ‡§¨‡§¢‡§º ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§' :
          lang === 'bn' ? 'pH ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º 0.5-1.0 ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¨‡¶æ‡¶°‡¶º‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' :
          'Can raise pH by approximately 0.5‚Äì1.0 units.'
        }</em>`;
        reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : 'Reason:'}</strong> ${lang === 'hi' ? '‡§ï‡§Æ pH ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§æ‡§∏‡•ç‡§´‡•ã‡§∞‡§∏ ‡§ú‡•à‡§∏‡•á ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§®‡•Å‡§™‡§≤‡§¨‡•ç‡§ß ‡§¨‡§®‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§' : lang === 'bn' ? '‡¶ï‡¶Æ pH ‡¶ó‡¶æ‡¶õ‡¶ó‡ßÅ‡¶≤‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡¶∏‡¶´‡¶∞‡¶æ‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø‡¶ï‡ßá ‡¶Ö‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá ‡¶§‡ßã‡¶≤‡ßá‡•§' : 'Low pH makes nutrients like phosphorus unavailable to plants.'}`;
      }
      
      else if (inputs.ph > 7.5) {
        fertilizerAdvice += `<br>${t.fertilizerSuggestion} ${
          lang === 'hi' ? '‡§∏‡§≤‡•ç‡§´‡§∞ (‡§ú‡•à‡§∏‡•á: Mahadhan Sulphur) ‡§Ø‡§æ ‡§è‡§≤‡•ç‡§Ø‡•Å‡§Æ‡§ø‡§®‡§ø‡§Ø‡§Æ ‡§∏‡§≤‡•ç‡§´‡•á‡§ü - ‡§™‡•ç‡§∞‡§§‡§ø ‡§è‡§ï‡§°‡§º 25-50 ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ‡•§' :
          lang === 'bn' ? '‡¶∏‡¶æ‡¶≤‡¶´‡¶æ‡¶∞ (‡¶Ø‡ßá‡¶Æ‡¶®: Mahadhan Sulphur) ‡¶¨‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶∏‡¶æ‡¶≤‡¶´‡ßá‡¶ü ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶ï‡¶∞ 25-50 ‡¶ï‡ßá‡¶ú‡¶ø‡•§' :
          'Apply Sulfur (e.g., Mahadhan Sulphur) or Aluminum sulfate - 25‚Äì50 kg per acre.'
        } <br><em>${
          lang === 'hi' ? 'pH ‡§≤‡§ó‡§≠‡§ó 0.5 ‡§§‡§ï ‡§ï‡§Æ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§' :
          lang === 'bn' ? 'pH ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º 0.5 ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ï‡¶Æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' :
          'Can reduce pH by approximately 0.5 units.'
        }</em>`;
        reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : 'Reason:'}</strong> ${lang === 'hi' ? '‡§â‡§ö‡•ç‡§ö pH ‡§≤‡•å‡§π, ‡§ú‡§ø‡§Ç‡§ï, ‡§î‡§∞ ‡§Æ‡•à‡§Ç‡§ó‡§®‡•Ä‡§ú ‡§ï‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ï‡•ã ‡§ï‡§Æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§' : lang === 'bn' ? '‡¶â‡¶ö‡ßç‡¶ö pH ‡¶≤‡ßã‡¶π‡¶æ, ‡¶ú‡¶ø‡¶Ç‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶Ø‡¶§‡¶æ ‡¶ï‡¶Æ‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' : 'High pH can reduce iron, zinc, and manganese availability.'}`;
      }
      
      // Nitrogen
      if (inputs.nitrogen < 30) {
        fertilizerAdvice += `<br>${t.fertilizerSuggestion} ${
          lang === 'hi' ? '‡§Ø‡•Ç‡§∞‡§ø‡§Ø‡§æ (IFFCO Urea), ‡§Ö‡§Æ‡•ã‡§®‡§ø‡§Ø‡§Æ ‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•á‡§ü - 40-50 ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ/‡§è‡§ï‡§°‡§º‡•§' :
          lang === 'bn' ? '‡¶á‡¶â‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ (IFFCO Urea), ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶Æ‡ßã‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶®‡¶æ‡¶á‡¶ü‡ßç‡¶∞‡ßá‡¶ü - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶ï‡¶∞ 40-50 ‡¶ï‡ßá‡¶ú‡¶ø‡•§' :
          'Add Urea (e.g., IFFCO Urea) or Ammonium nitrate - 40‚Äì50 kg/acre.'
        } <br><em>${
          lang === 'hi' ? '‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® ‡§∏‡•ç‡§§‡§∞ ‡§Æ‡•á‡§Ç 20-30% ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§' :
          lang === 'bn' ? '‡¶®‡¶æ‡¶á‡¶ü‡ßç‡¶∞‡ßã‡¶ú‡ßá‡¶® ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡ß®‡ß¶-‡ß©‡ß¶% ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' :
          'Can increase nitrogen level by 20‚Äì30%.'
        }</em>`;
        reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : 'Reason:'}</strong> ${lang === 'hi' ? '‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§∏‡•á ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§∞‡•Å‡§ï ‡§ú‡§æ‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§™‡•Ä‡§≤‡•Ä ‡§π‡•ã ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§' : lang === 'bn' ? '‡¶®‡¶æ‡¶á‡¶ü‡ßç‡¶∞‡ßã‡¶ú‡ßá‡¶®‡ßá‡¶∞ ‡¶Ö‡¶≠‡¶æ‡¶¨ ‡¶ó‡¶æ‡¶õ‡ßá‡¶∞ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶ï‡¶§‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶§‡¶æ ‡¶π‡¶≤‡ßÅ‡¶¶ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§' : 'Nitrogen deficiency causes stunted growth and yellow leaves.'}`;
      }
      
      // Phosphorus
      if (inputs.phosphorus < 20) {
        fertilizerAdvice += `<br>${t.fertilizerSuggestion} ${
          lang === 'hi' ? '‡§∏‡§ø‡§Ç‡§ó‡§≤ ‡§∏‡•Å‡§™‡§∞ ‡§´‡•â‡§∏‡•ç‡§´‡•á‡§ü (SSP) ‡§Ø‡§æ ‡§¨‡•ã‡§® ‡§Æ‡•Ä‡§≤ - 60-80 ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ/‡§è‡§ï‡§°‡§º‡•§' :
          lang === 'bn' ? '‡¶∏‡¶ø‡¶ô‡ßç‡¶ó‡ßá‡¶≤ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶´‡¶∏‡¶´‡ßá‡¶ü (SSP) ‡¶¨‡¶æ ‡¶¨‡ßã‡¶® ‡¶Æ‡¶ø‡¶≤ - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶ï‡¶∞ 60-80 ‡¶ï‡ßá‡¶ú‡¶ø‡•§' :
          'Apply Single Super Phosphate (SSP) or Bone Meal - 60‚Äì80 kg/acre.'
        } <br><em>${
          lang === 'hi' ? '‡§´‡§æ‡§∏‡•ç‡§´‡•ã‡§∞‡§∏ ‡§∏‡•ç‡§§‡§∞ ‡§Æ‡•á‡§Ç 15-25% ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§' :
          lang === 'bn' ? '‡¶´‡¶∏‡¶´‡¶∞‡¶æ‡¶∏ ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡ßß‡ß´-‡ß®‡ß´% ‡¶â‡¶®‡ßç‡¶®‡¶§‡¶ø ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' :
          'Can improve phosphorus level by 15‚Äì25%.'
        }</em>`;
        reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : 'Reason:'}</strong> ${lang === 'hi' ? '‡§ï‡§Æ ‡§´‡§æ‡§∏‡•ç‡§´‡•ã‡§∞‡§∏ ‡§∏‡•á ‡§ú‡§°‡§º ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§î‡§∞ ‡§´‡•Ç‡§≤‡§®‡•á ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§∞‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§' : lang === 'bn' ? '‡¶ï‡¶Æ ‡¶´‡¶∏‡¶´‡¶∞‡¶æ‡¶∏ ‡¶∂‡¶ø‡¶ï‡¶°‡¶º‡ßá‡¶∞ ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶è‡¶¨‡¶Ç ‡¶´‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶¶‡ßá‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡•§' : 'Low phosphorus delays root development and flowering.'}`;
      }
      
      // Potassium
      if (inputs.potassium < 30) {
        fertilizerAdvice += `<br>${t.fertilizerSuggestion} ${
          lang === 'hi' ? '‡§Æ‡•ç‡§Ø‡•Ç‡§∞‡§ø‡§è‡§ü ‡§ë‡§´ ‡§™‡•ã‡§ü‡§æ‡§∂ (MOP) - 40-50 ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ/‡§è‡§ï‡§°‡§º‡•§' :
          lang === 'bn' ? '‡¶Æ‡¶ø‡¶â‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶ü ‡¶Ö‡¶´ ‡¶™‡¶ü‡¶æ‡¶∂ (MOP) - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶ï‡¶∞ 40-50 ‡¶ï‡ßá‡¶ú‡¶ø‡•§' :
          'Use Muriate of Potash (MOP) - 40‚Äì50 kg/acre.'
        } <br><em>${
          lang === 'hi' ? '‡§™‡•ã‡§ü‡•à‡§∂‡§ø‡§Ø‡§Æ ‡§∏‡•ç‡§§‡§∞ ‡§Æ‡•á‡§Ç 20-30% ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§' :
          lang === 'bn' ? '‡¶™‡¶ü‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡ß®‡ß¶-‡ß©‡ß¶% ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§' :
          'Can improve potassium level by 20‚Äì30%.'
        }</em>`;
        reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : 'Reason:'}</strong> ${lang === 'hi' ? '‡§ï‡§Æ ‡§™‡•ã‡§ü‡•à‡§∂‡§ø‡§Ø‡§Æ ‡§∏‡•á ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡•ã‡§ó‡•ã‡§Ç ‡§î‡§∞ ‡§∏‡•Ç‡§ñ‡§æ ‡§ï‡•á ‡§™‡•ç‡§∞‡§§‡§ø ‡§™‡•ç‡§∞‡§§‡§ø‡§∞‡•ã‡§ß‡§ï ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡§Æ ‡§π‡•ã ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§' : lang === 'bn' ? '‡¶ï‡¶Æ ‡¶™‡¶ü‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶ó‡¶æ‡¶õ‡ßá‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶è‡¶¨‡¶Ç ‡¶ñ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ ‡¶ï‡¶Æ‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§' : 'Low potassium weakens plant resistance to disease and drought.'}`;
      }
      
  
    // Organic Matter Suggestions
    let organicAdvice = '';
    if (inputs.organicMatter < 2) {
      organicAdvice = `${t.organicSuggestion} ${lang === 'hi' ? '‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü, ‡§µ‡§∞‡•ç‡§Æ‡•Ä‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü, ‡§Ø‡§æ ‡§Ö‡§ö‡•ç‡§õ‡•á ‡§∏‡•á ‡§∏‡§°‡§º‡§æ ‡§π‡•Å‡§Ü ‡§ñ‡§æ‡§¶ ‡§°‡§æ‡§≤‡•á‡§Ç' : lang === 'bn' ? '‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü, ‡¶≠‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü, ‡¶¨‡¶æ ‡¶≠‡¶æ‡¶≤‡ßã‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶ö‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßã‡¶¨‡¶∞ ‡¶∏‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®' : lang === 'en' ? 'Add compost, vermicompost, or well-rotted manure.' : ''}`;
      reasonList += `<br><strong>${lang === 'hi' ? '‡§ï‡§æ‡§∞‡§£:' : lang === 'bn' ? '‡¶ï‡¶æ‡¶∞‡¶£:' : lang === 'en' ? 'Reason:' : ''}</strong> ${lang === 'hi' ? '‡§ï‡§Æ ‡§ú‡•à‡§µ‡§ø‡§ï ‡§™‡§¶‡§æ‡§∞‡•ç‡§• ‡§∏‡•á ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§â‡§∞‡•ç‡§µ‡§∞‡§§‡§æ, ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ, ‡§î‡§∞ ‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ‡§ú‡•Ä‡§µ ‡§ú‡•Ä‡§µ‡§® ‡§ï‡§Æ ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§' : lang === 'bn' ? '‡¶ï‡¶Æ ‡¶ú‡ßà‡¶¨ ‡¶™‡¶¶‡¶æ‡¶∞‡ßç‡¶• ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶â‡¶∞‡ßç‡¶¨‡¶∞‡¶§‡¶æ, ‡¶ó‡¶†‡¶®, ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶æ‡¶á‡¶ï‡ßç‡¶∞‡ßã‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶ï‡¶Æ‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶Ø‡¶º‡•§' : lang === 'en' ? 'Low organic matter reduces soil fertility, structure, and microbial life.' : ''}`;
    }
  
    // Texture-specific suggestions
    let textureAdvice = '';
    if (inputs.texture === 'sandy') {
      textureAdvice = `<br>${t.textureTip} ${lang === 'hi' ? '‡§∞‡•á‡§§‡§¶‡§æ‡§∞ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§¨‡§π‡•Å‡§§ ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§™‡§æ‡§®‡•Ä ‡§∏‡•ã‡§ñ ‡§≤‡•á‡§§‡•Ä ‡§π‡•à‡•§ ‡§®‡§Æ‡•Ä ‡§î‡§∞ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü ‡§î‡§∞ ‡§¨‡§æ‡§Ø‡•ã‡§ö‡§æ‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§' : lang === 'bn' ? '‡¶¨‡¶æ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶Æ‡¶Ø‡¶º ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡¶æ‡¶®‡¶ø ‡¶∂‡ßã‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá‡•§ ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø ‡¶ß‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶Ø‡¶º‡ßã‡¶ö‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§' : lang === 'en' ? 'Sandy soil drains too fast. Add compost and biochar to retain moisture and nutrients.' : ''}`;
    } else if (inputs.texture === 'clay') {
      textureAdvice = `<br>${t.textureTip} ${lang === 'hi' ? '‡§ï‡•Ä‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ò‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§µ‡§æ‡§Ø‡•Å ‡§î‡§∞ ‡§ú‡§≤ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§∏‡•Å‡§ß‡§æ‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡•á‡§§, ‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü, ‡§Ø‡§æ ‡§ú‡§ø‡§™‡•ç‡§∏‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§' : lang === 'bn' ? '‡¶ï‡ßç‡¶≤‡ßá ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶ò‡¶® ‡¶π‡¶Ø‡¶º‡•§ ‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∂‡¶® ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡¶æ‡¶≤‡¶ø, ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶¨‡¶æ ‡¶ú‡¶ø‡¶™‡¶∏‡¶æ‡¶Æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§' : lang === 'en' ? 'Clay soil is dense. Add sand, compost, or gypsum to improve aeration and drainage.' : ''}`;
    }
  
    // Multilingual output for Hindi and Bengali
    const additionalAdvice = lang === 'hi' ? `
      <p><strong>‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§Ø‡•á ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡§Ç:</strong> ${reasonList}</p>
      <h4>üîß ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡•Å‡§ù‡§æ‡§µ:</h4>
      <ul>
        <li>üå± ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§∞‡•ã‡§ï‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§∏‡§≤ ‡§ö‡§ï‡•ç‡§∞ ‡§Ö‡§™‡§®‡§æ‡§è‡§Ç‡•§</li>
        <li>üß™ ‡§∏‡§ü‡•Ä‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§µ‡§æ‡§è‡§Ç‡•§</li>
        <li>üåæ ‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® ‡§∏‡•Å‡§ß‡§æ‡§∞‡§®‡•á ‡§î‡§∞ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§∞‡•Ä ‡§ñ‡§æ‡§¶ ‡§Ø‡§æ ‡§ï‡§µ‡§∞ ‡§´‡§∏‡§≤‡•á‡§Ç ‡§≤‡§ó‡§æ‡§è‡§Ç‡•§</li>
        <li>üêõ ‡§´‡§æ‡§Ø‡§¶‡•á‡§Æ‡§Ç‡§¶ ‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ‡§ú‡•Ä‡§µ‡•ã‡§Ç ‡§î‡§∞ ‡§ï‡•á‡§Ç‡§ö‡•Å‡§ì‡§Ç ‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡§∏‡§æ‡§Ø‡§®‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§â‡§™‡§Ø‡•ã‡§ó ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§</li>
      </ul>
    ` : lang === 'bn' ? `
      <p><strong>‡¶ï‡ßá‡¶® ‡¶è‡¶á ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£:</strong> ${reasonList}</p>
      <h4>üîß ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂:</h4>
      <ul>
        <li>üå± ‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶Ö‡¶≠‡¶æ‡¶¨ ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ö‡¶ï‡ßç‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</li>
        <li>üß™ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</li>
        <li>üåæ ‡¶®‡¶æ‡¶á‡¶ü‡ßç‡¶∞‡ßã‡¶ú‡ßá‡¶® ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶ó‡¶†‡¶® ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶∏‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶ï‡ßç‡¶∞‡¶™ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</li>
        <li>üêõ ‡¶â‡¶™‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Æ‡¶æ‡¶á‡¶ï‡ßç‡¶∞‡ßã‡¶¨‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßÉ‡¶Æ‡¶ø‡¶∞ ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡¶æ‡¶∏‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡¶ï ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®‡•§</li>
      </ul>
    ` : `
      <p><strong>Why these recommendations matter:</strong> ${reasonList}</p>
      <h4>üîß Additional Soil Health Tips:</h4>
      <ul>
        <li>üå± Practice crop rotation to prevent nutrient depletion.</li>
        <li>üß™ Test your soil regularly for accurate inputs.</li>
        <li>üåæ Use green manures or cover crops to fix nitrogen and improve structure.</li>
        <li>üêõ Avoid chemical overuse to protect beneficial microbes and earthworms.</li>
      </ul>
    `;
  
    resultsDiv.innerHTML = `
      <p class="warning">${t.noResult} ${stateTranslations[lang][inputs.state] || "State not found"}.</p>
      <p>${t.suggestion}</p>
      <p>${fertilizerAdvice}</p>
      <p>${organicAdvice}</p>
      <p>${textureAdvice}</p>
      ${additionalAdvice}
    `;
  }
  
  resultsDiv.scrollIntoView({ behavior: 'smooth' });
  
});
